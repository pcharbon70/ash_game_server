# Feature: Project Setup - Dependencies and Configuration

## Summary
Set up core dependencies, supporting libraries, development tools, and configuration structure for the Ash Game Server ECS architecture project.

## Requirements
- [ ] Add Jido framework ~> 1.2.0 for autonomous agents
- [ ] Add Ash framework ~> 3.5.33 for declarative domain modeling  
- [ ] Add AshPostgres ~> 2.6.14 for PostgreSQL data layer
- [ ] Add Spark DSL library ~> 2.2.67 for custom DSL creation
- [ ] Add Phoenix ~> 1.7.21 for web layer
- [ ] Add Phoenix.PubSub for real-time features
- [ ] Add AshCommanded ~> 0.1.0 for event sourcing
- [ ] Add Horde ~> 0.9.1 for distributed registry
- [ ] Add Telemetry for monitoring
- [ ] Configure development tools (Dialyzer, Credo, ExDoc)
- [ ] Set up configuration structure for different environments
- [ ] Configure database connections and secrets management
- [ ] Update mix.lock and fetch all dependencies

## Research Summary
### Existing Usage Rules Checked
- Ash existing usage rules: Declarative framework with extensive DSL capabilities, requires specific patterns
- Jido existing usage rules: Autonomous agents system with signal-based communication
- Elixir core usage rules: Pattern matching, proper error handling, avoid Enum on large collections

### Documentation Reviewed
- Ash 3.5.33: Declarative, extensible framework with strong community support, requires Ecto, Jason, Spark, Telemetry
- AshPostgres 2.6.14: PostgreSQL data layer, requires ash ~> 3.5, ecto ~> 3.13, postgrex
- Jido 1.2.0: Autonomous distributed agent systems toolkit, includes Phoenix PubSub, Telemetry, Jason
- Spark 2.2.67: Generic tooling for building DSLs, part of Ash Project, 995k+ downloads
- Phoenix 1.7.21: Peace of mind from prototype to production, 140.9M downloads
- Horde 0.9.1: Distributed supervision & process registry with DELTA-CRDTs
- AshCommanded 0.1.0: Event sourcing extension for Ash, integrates with Commanded library

### Existing Patterns Found  
- mix.exs:23-29: Current deps function with only igniter dependency, minimal structure
- Project configured for Elixir ~> 1.18, basic Mix project structure in place

### Technical Approach
1. **Dependencies Addition**: Add all required packages to mix.exs deps/0 function with proper version constraints
2. **Application Configuration**: Update application/0 function to include necessary applications
3. **Development Tools**: Add development-only dependencies (Dialyzer, Credo, ExDoc) 
4. **Config Structure**: Create config/ directory with dev.exs, prod.exs, test.exs, runtime.exs
5. **Database Setup**: Configure PostgreSQL connection and database settings
6. **Environment Variables**: Set up proper secrets management for different environments

## Risks & Mitigations
| Risk | Impact | Mitigation |
|------|--------|------------|
| Version conflicts between packages | High | Use tested version combinations, check compatibility matrix |
| Missing application dependencies | Medium | Update application/0 function with required apps |
| Configuration complexity | Medium | Follow Ash/Phoenix conventions, document all config options |
| Development tool conflicts | Low | Use only: [:dev, :test] restrictions appropriately |

## Implementation Checklist
- [ ] Update mix.exs deps/0 function with all core dependencies
- [ ] Update mix.exs deps/0 function with all supporting libraries  
- [ ] Add development tools to deps/0 with proper only: restrictions
- [ ] Update application/0 function with required applications
- [ ] Create config/ directory structure
- [ ] Create config/config.exs with basic setup
- [ ] Create config/dev.exs with development settings
- [ ] Create config/test.exs with test settings
- [ ] Create config/prod.exs with production settings
- [ ] Create config/runtime.exs for runtime configuration
- [ ] Run mix deps.get to fetch dependencies
- [ ] Run mix compile to verify setup
- [ ] Test basic application startup
- [ ] Verify no compilation warnings or errors

## Questions for Pascal
1. Should we set up a specific PostgreSQL database name pattern (e.g., ash_game_server_dev)?
2. Do you want any specific Telemetry metrics configured initially?
3. Should we include any additional Phoenix-related packages (LiveView, etc.) now or later?
4. Any specific Credo or Dialyzer configuration preferences?

## Log
- Created feature branch: feature/1.1.1-project-setup
- Starting implementation of core dependencies
- Updated mix.exs with all core dependencies (Jido, Ash, AshPostgres, Spark)
- Updated mix.exs with all supporting libraries (Phoenix, Horde, AshCommanded, etc.)
- Added development tools (Dialyzer, Credo, ExDoc)
- Created Application module with supervision tree
- Created Telemetry module for metrics
- Created Repo module with required functions
- Created complete config directory structure (config.exs, dev.exs, test.exs, prod.exs, runtime.exs)
- Successfully ran mix deps.get
- Successfully compiled project (with warnings from third-party dependencies)

## Final Implementation
Successfully implemented all requirements for section 1.1.1:
- ✓ All core dependencies added with proper versions
- ✓ All supporting libraries configured
- ✓ Development tools in place
- ✓ Application supervision tree set up
- ✓ Configuration structure created for all environments
- ✓ Database configuration ready
- ✓ Project compiles successfully